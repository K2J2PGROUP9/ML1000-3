"0","nhd_df <- customerData1 %>%"
"0","    group_by(neighbourhood) %>%"
"0","    summarize(num_listings = n(),"
"0","              median_price = median(price),"
"0","              long = median(longitude),"
"0","              lat = median(latitude),"
"0","              borough = unique(neighbourhood))"
"0","# map of all listings: one point per neighborhood"
"0","height <- max(customerData1$latitude) - min(customerData1$latitude)"
"0","width <- max(customerData1$longitude) - min(customerData1$longitude)"
"0","borders <- c(bottom  = min(customerData1$latitude)  - 0.1 * height,"
"0","             top     = max(customerData1$latitude)  + 0.1 * height,"
"0","             left    = min(customerData1$longitude) - 0.1 * width,"
"0","             right   = max(customerData1$longitude) + 0.1 * width)"
"0",""
"0","map <- get_stamenmap(borders, zoom = 11, maptype = ""toner-lite"")"
"0","ggmap(map) +"
"0","    geom_point(data = nhd_df, mapping = aes(x = long, y = lat,"
"0","                                            col = median_price, size = num_listings)) +"
"0","    scale_color_gradient(low = ""blue"", high = ""red"")"
